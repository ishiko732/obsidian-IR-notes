---
tags: 操作系统 [obsidian]
cards-deck: 考研::操作系统
---

## 操作系统

操作系统(Operating System,OS)是指控制和管理整个计算机系统的硬件与软件资源，合理地组织、调度计算机的工作与资源的分配，进而为用户和其他软件提供方便接口与环境的程序集合。操作系统是计算机系统中最基本的系统软件

## 基本特征

操作系统的4个特征 #card
- 并发
- 共享
- 虚拟
- 异步
^1662088859915

操作系统的最基本的特征是? #card 
并发,共享
^1662088859943

常考易混概念
并发：指两个或多个事件在同一时间间隔内发生。这些事件宏观上是同时发生的，但微观上是交替发生的。 
并行：指两个或多个事件在同一时刻同时发生。

单核CPU同一时刻只能执行==一==个程序，各个程序只能==并发==(并发/并行)地执行
^1662088859951
多核CPU同一时刻可以同时执行==多==个程序，多个程序可以==并行==(并发/并行)地执行
^1662088859956


共享即资源共享，是指系统中的资源可供内存中多个并发执行的进程共同使用
![[Pasted image 20220902094843.png]]


操作系统的共享可分为? #card 
- 互斥共享
- 同时共享
^1662088859960

在一段时间内只允许一个进程访问该资源称为==互斥==共享方式
^1662088859964
在一段时间内允许多个进程访问该资源称为==同时==共享方式
^1662088859968

操作系统的四个基本特征中,哪2个是互为存在的条件? #card 
并发性和共享性
^1662088859972

==虚拟==是指把一个物理上的实体变为若干个逻辑上的对应物。物理实体（前者）是实际存的，而逻辑上 对应物（后者）是用户感受到的。
^1662088859977

虚拟技术可以分为哪2个? #card 
- 空分复用技术
- 时分复用技术
^1662088859980

什么用了时分复用技术? :: 虚拟处理器 ^1662088859983
什么用了空分复用技术? :: 虚拟存储器 ^1662088859987

利用==多道==程序设计技术把一个物理上的CPU虚拟为多个逻辑上的cpu, 称为虚拟处理器
^1662088859992

来用==虚拟存储器==技术将一台机器的物理存储器变为虚拟存储器,以便从逻辑上扩充存储器的容量。
^1662088859995

==虚拟设备==技术将一台物理I/O设备虚拟为多台逻辑上的I/O设备,并允许每个用户占用一台逻辑上的I/o设备,使原来仅允许在一段时间内由一个用户访问的设备(即临界资源) 变为在一段时间内允许多个用户同时访问的共享设备。
^1662088859999

多道程序环境允许多个程序并发执行，但由于资源有限，进程的执行并不是一贯到底的，而是走走停停的，它以不可预知的速度向前推进，这就是进程的==异步==性
^1662088860003

只有系统拥有==并发==性，才有可能导致异步性。
^1662088860007

==并发==和==共享==是操作系统的两个最基本的特征
^1662088860011

## 操作系统的功能(职责)

1. 作为管理者

在多道程序环境下，处理机的分配和运行都以进程（或线程)为基本单位，因而对处理机的管理可归结为对==进程==的管理。
^1662088860015

计算机中的信息都是以==文件==的形式存在的，操作系统中负责文件管理的部分称为文件系统。
^1662088860019

2. 作为接口
- 命令接口
	- 交互式命令接口
	- 批处理命令接口
- 程序接口

联机命令接口可以称为:: 交互式命令接口 ^1662088860022
用户通过控制台/终端来输入操作命令,OS来进行各种请求,这种接口称为什么接口? :: 交互式命令接口 ^1662088860025

脱机命令接口称为:: 批处理命令接口 ^1662088860028
脱机用户能不能干预作业的运行? :: 不能 ^1662088860030

命令接口包含哪2个? #card 
- 交互式命令接口(联机用户接口)
- 批处理命令接口(脱机用户接口)
^1662088860033

GUI通过什么接口实现? :: 程序接口 ^1662088860038

系统调用属于命令接口还是程序接口? ::程序接口 ^1662088860044
广义指令可以称为什么? :: 系统调用,程序接口 ^1662088860046

shell是什么? :: 命令解释器 ^1662088860049
shell属于命令接口? :: 属于 ^1662088860051
缓冲管理对用户是否透明?:: 透明 ^1662088860054


3. 作为扩充设备
没有任何软件支持的计算机称为==裸机==
^1662088860057

## 操作系统的发展与分类

单道批处理系统:引入脱机输入/输出技术（用外围机+磁带完成），并由==监督程序==负责控制作业的输入、输出
^1662088860060

单道批处理系统内存中只能有一道程序运行? :: 正确 ^1662088860065
单道批处理系统CPU空闲时间少,利用率高? :: 错误, CPU有大量的时间是在**空闲等待I/O**完成。资源 利用率依然很低。 ^1662088860067

多道批处理系统支持并发完成任务? :: 正确 ^1662088860071
多道批处理系统可以共享计算机资源? :: 正确 ^1662088860074
多道批处理系统用户可以干预作业的执行? :: 错误,批处理系统都不能干预,能干预的是交互式系统 ^1662088860078
多道批处理系统具有顺序性? :: 错误 ^1662088860082
批处理系统有无交互能力? :: 没有 ^1662088860085

与单道程序系统相比,多道批处理系统提高了CPU的利用率? :: 正确 ^1662088860088
与单道程序系统相比,多道批处理系统提高了系统吞吐量?:: 正确 ^1662088860090
与单道程序系统相比,多道批处理系统提高了I/O利用率? :: 正确 ^1662088860093

{1:分时}操作系统：计算机以{2:时间片}为单位轮流为{3:各个用户/作业}服务，各个用户可通
^1662088860096
过终端与计算机进行交互。
分时操作系统能否解决紧急的任务? :: 不能,以时间片轮转 ^1662088860100
分时操作系统可以人机交互? :: 正确 ^1662088860103

分时操作系统允许==多==个用户通过终端同时共享==一==台主机
^1662088860107
要求快速响应用户是导致==分时==操作系统出现的重要原因
^1662088860110

![[Pasted image 20220902101643.png]]

什么操作系统可以优先响应紧急任务? :: 实时操作系统 ^1662088860112

实时操作系统的主要特点是? #card 
- 及时行
- 可靠性
^1662088860115

实时操作系统可以分为?(2个) #card
硬实时操作系统
软实时操作系统
^1662088860118

实时操作系统能够实时处理外部事件,在==规定时间==内处理来自外部事件
^1662088860122



网络操作系统：是伴随着计算机网络的发展而诞生的，能把网络中各个计算机有机地结合起来，实现**数据传送**等功能，实现网络中各种**资源的共享**（如文件共享）和各台计算机之间的通信。（如：Windows NT 就是 一种典型的网络操作系统，网站服务器就可以使用）
#card-spaced 
^1662088860126

分布式操作系统：主要特点是==分布==性和==并行==性。系统中的各台计算机地位相同，任何工作都可以分布在这些 计算机上，由它们并行、协同完成这个任务
^1662088860129

单处理机中,同一时刻只能有==一个==进程占用处理机
^1662088860131
单处理机中,进程与进程之间能并行运行? :: 错误 ^1662088860134

手工操作阶段有无操作系统? :: 没有 ^1662088860137


## 运行环境
![[Pasted image 20220917092133.png]]
![[Pasted image 20220917092618.png]]

所谓特权指令，是指计算机中不允许用户直接使用的指令，如/O指令、置中断指令，存取用于内存保护的寄存器、送程序状态字到程序状态字寄存器等的指令。

CPU 有两种状态，“内核态”和“用户态” 
- 处于内核态时，说明此时正在运行的是内核程序，此时可以执行==特权==指令 
^1663384124238
- 处于用户态时，说明此时正在运行的是应用程序，此时只能执行==非特权==指令
^1663384124256

内核态= ==核心== 态= ==管==态；
^1663384124260
用户态= ==目==态
^1663384124263

内核态->用户态：执行一条特权指令——修改PSW的标志位为“==用户==态”，这个动作意味着操作系统将主动让出CPU使用权 
^1663384124266
用户态->内核态：由“==中断==”引发，硬件自动完成变态过程，触发中断信号意味着操作系统将强行夺回CPU的使用权
^1663384124270

内核程序只能执行在内核态下特权指令? :: 错误,可以执行特权指令和非特权指令 ^1663384124274
内核程序只能在内核态执行? ::正确 ^1663384124277
应用程序只能执行非特权指令? :: 错误,可以执行,并跳转为内核态 ^1663384124280

程序的运行具有原子性，其操作只能一气呵成的是原语? :: 正确 ^1663384124285
定义原语的直接方法是==关中断==
^1663384124288


![[Pasted image 20220917092938.png]]

陷入trap属于异常还是外中断? :: 异常 ^1663384124292

系统调用是指用户在程序中调用==操作系统==所提供的一些子功能
^1663384124296

分时操作系统中需要向操作系统预订运行时间吗? :: 错误 ^1663384124299
操作系统执行程序时候,必须从起始地址开始执行? :: 正确 ^1663384124302
使用多道程序设计技术的主要原因是提高CPU和外部设备的可靠性? :: 错误,为了提高系统的利用率和吞吐量 ^1663384124306

通道技术是一种硬件技术? :: 正确 ^1663384124309
系统调用是操作系统必须提供的功能? :: 错误,中断才是 ^1663384124311
用户程序在用户态下要使用特权指令引起的中断属于==访管==中断
^1663384124314
进程调度需不需要硬件的支持? :: 不需要,由操作系统实现 ^1663384124318
用户态到核心态的转换为==硬件中断==完成
^1663384124322
进程切换属于==系统调用==过程中的事件,发生在==内核==态下
^1663384124324
缺页产生在==用户==态发生,而缺页的处理在==内核==态执行
^1663384124329
访问内存时缺页从用户态转为内核态使用==trap==指令
^1663384124332
访管指令在仅在内核态使用? :: 错误,trap指令在用户态执行 ^1663384124337
子程序调用需要保留PC计数器值? :: 正确 ^1663384124341
子程序调用需要保存PSWR状态字? :: 错误 ^1663384124343
处理外部中断时,PC计数器的值由硬件自动保存? :: 正确 ^1663384124346
处理外部中断时,中断点由操作系统完成? :: 错误,由硬件完成PC的保存 ^1663384124350
处理外部中断时,通用寄存器的值由硬件自动保存? :: 错误,由操作系统保存 ^1663384124353



## 内核
![[Pasted image 20220917101546.png]]

内核是计算机上配置的底层==软件==，是操作系统最基本、最核心的部分。
^1663384124356

![[Pasted image 20220917102207.png]]


![[Pasted image 20220917104303.png]]




## 中断机制
内中断与当前执行的指令==有关==(有关/无关)， 中断信号来源于CPU==内==(内/外)部
^1663384124359
外中断与当前执行的指令==无关==(有关/无关)， 中断信号来源于CPU==外==(内/外)部
^1663384124362

内中断可称为==异常==,==例外==
^1663384124364

内中断(异常)可分为哪3类? #card 
- 陷入trap
- 故障fault
- 终止abort
^1663384124368


故障由错误条件引起的，可能被内核程序修复。内核程序修复故障后会把 CPU使用权还给应用程序，让它继续执行下去,例如==缺页==故障
^1663384124371
终止由致命错误引起，内核程序无法修复该错误，因此一般不再将CPU 使用权还给引发终止的应用程序， 而是直接==终止==该应用程序。如： 整数除0、非法使用特权指令
^1663384124374


![[Pasted image 20220917103055.png]]

中断处理程序一定是==内核==程序，需要运行在“==内核==态”
^1663384124377

内中断:CPU在==执行指令==时会检查是否发生异常
^1663384124380
外中断:在==每个指令周期末尾==,CPU会检查是否有中断需要处理
^1663384124384

如何找到对应的中断处理程序? ::通过中断向量表实现 ^1663384124387

## 系统调用
![[Pasted image 20220917103412.png]]
凡是与==共享资源==有关的操作（如存储分配、I/O操作、文件管理等），都必须通过系统调用的方式向操作系统内核提出服务请求，由操作系统内核代为完成。这样可以保证系统的稳定性和安全性，防止用户进行非法操作。
^1663384124390

{3:陷入}指令 ={2: trap} 指令 = {1:访管}指令
^1663384124394

执行系统调用的过程: #card
- 传递系统调用参数
- 调用trap指令转换为内核态
- 执行内核态服务程序
- 返回用户态
- ![[Pasted image 20220917104008.png]]
^1663384124397


发出系统调用请求是在==用户==态，而对系统调用的相应处理在==核心==态下进行
^1663384124401


## OS结构
![[Pasted image 20220917104504.png]]


分层结构
![[Pasted image 20220917104641.png]]
#card-spaced 
^1663384124407


操作系统采用分层结构有利于调试和验证? ::正确 ^1663384124410
操作系统采用分层结构不利于跨层调用? :: 正确 ^1663384124413
操作系统采用分层结构不利于扩充? :: 错误 ^1663384124415

模块化结构
![[Pasted image 20220917104846.png]]
#card-spaced 
^1663384124418

模块化结构的操作系统,内核可分为? :: 内核=主模块+可加载的内核模块 ^1663384124422
操作系统采用模块化结构可以支持动态加载新内核模块? :: 正确 ^1663384124425
操作系统采用模块化结构可以直接调用其他模块? ::正确 ^1663384124427

外核
![[Pasted image 20220917105114.png]]
#card-spaced 
^1663384124431

外核操作系统: 内核负责进程调度,进程通信等功能,外核负责用户进程分配未经抽象的硬件资源,且由外核负责保证资源使用安全

外核操作系统中==内==(内/外)核负责进程调度,进程通信等功能
^1663384124434
外核操作系统中==外==(内/外)核负责用户进程分配未经抽象的硬件资源
^1663384124437
外核操作系统中外核可以直接给==用户进程==分配“{2:不虚拟},{2:不抽象}”的硬件资源
^1663384124440
外核操作系统可以减少虚拟硬件资源的映射? ::正确 ^1663384124442

## 引导Boot
![[Pasted image 20220917105650.png]]
#card-spaced 
^1663384124446

## 虚拟机
![[Pasted image 20220917110246.png]]

第一类VMM是运行在==硬件==上的
^1663384124448
第二类VMM是运行在==宿主操作系统==上的
^1663384124451

![[Pasted image 20220917110404.png]]

第一类VMM运行在==最高特权==级上,可以执行==最高特权==指令
^1663384124453
第二类VMM部分运行在用户态,一部分运行在内核态? :: 正确 ![[Pasted image 20220917110700.png]] ^1663384124457




支持虚拟化的CPU通常分更多指令等级
![[Pasted image 20220917110740.png]]
#card-spaced 
^1663384124460



