---
tags: 计算机网络  [obsidian]
cards-deck: 考研::计算机网络
---


![[Pasted image 20220918234633.png]]

## 基于源树多播路由选择
![[Pasted image 20220919100610.png]]
基于源树多播路由选择采用==反向路径多播RPM==算法
^1663555283941

反向路径多播RPM算法步骤
1. 反向路径广播RPB
2. 剪枝算法,剪去广播转发树中的下游非成员路由器
#card-spaced 
^1663555283947

反向路径广播RPB可以避免==广播==分组在环路中兜圈
^1663555283951
反向路径广播RPB算法的要点是:每台路由器在收到一个广播分组时,先检查该广播分组是否是从==源点==经==最短路径==传来的,若是则转发该分组
^1663555283955

反向路径广播RPB算法中“反向路径”的意思是在计算最短路径时把==源点==当作==终点==
^1663555283959
基于源树多播路由选择要建立广播转发树可以使用==洪泛==法
^1663555283962

![[Pasted image 20220919101212.png]]

RPB算法中,如果存在多条同样长度的最短路径,那么只能选取一条最短路径,选取的规则是:选邻居路由器的==IP地址最小==的那条最短路径
^1663555283965

![[Pasted image 20220919101329.png]]

RPM算法中如果多播转发树上某个路由器发现自己没有多播组成员同时也没有下游路由器(即==叶==结点),则向上游发送一个==剪枝==报文,并将自己从多播转发树上剪除
^1663555283969
RPM算法中如果被剪枝的路由器通过IGMP又发现了新的多播组成员,则会向上游路由器发送一个==嫁接==报文,并重新加入到多播转发树中
^1663555283975

## 组共享树多播路由选择
可以采用基于核心的==分布式生成树==算法来建立共享树
^1663555283978
分布式生成树算法在每个多播组中指定一个核心路由器,以该路由器为==根==,建立一棵连接该多播组的==所有成员路由器==的生成树,作为多播转发树
^1663555283981

- 组共享树多播路由选择的每个多播组中除了核心路由器,其他所有成员路由器都会向自己的多播组中核心路由器单播==加入==报文
^1663555283984
- 加入报文通告单播朝着核心路由器转发,直到它到达已经属于==该多播生成树的某个节点==或者直接达到==该核心路由器==
^1663555283988
- 加入报文所经过的==路径==确定了一条从单播该报文的边缘节点到核心路由器之间的分支,而这个新分支就被嫁接到现有的多播转发树上.
^1663555283991

![[Pasted image 20220919104047.png]]
当R1收到主机(不属于该多播组)向该多播组发送的{2:多播}分组时,会将该多播分组封装到目的地址为核心路由器R5的==单播==分组中,利用IP-in-IP隧道技术(面向连接虚电路服务),将该多播分组发送到R5,然后R5再将被封装在==单播==分组中的{2:多播}分组解封出来,在多播转发树上洪泛多播
^1663555283994

![[Pasted image 20220919103605.png]]
![[Pasted image 20220919103605.png]]