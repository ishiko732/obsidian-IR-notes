---
tags: 计算机网络  [obsidian]
cards-deck: 考研::计算机网络
---


# 开放最短路径优先OSPF的基本工作原理
## 基本概念
![[Pasted image 20211020161308.png]]

OSPF的英文全称是？ :: Open Shortest Path First ^1634719219692
OSPF的中文全称是？ :: 开放最短路径优先 ^1634719219706

开放最短路径优先协议是为了克服==路由信息RIP==协议的缺点提出的
^1663470225815
OSPF采用什么算法，是否会产生路由环路？ :: 采用dijkstra的最短路径算法(SPF)，不会产生路由环路 ^1634719219708
OSPF基于==链路状态==并采用最短路径算法计算路由,从算法上保证了不会产生路由环路
^1663470225832
==链路状态==是指本路由器都和哪些路由器{2:相邻},以及相应链路的"代价"
^1663470225836
思科路由器中OSPF协议计算代价的方法是:==100MB/s除以链路带宽==,计算结果小于1的值记为{2:1},大于1且有小数的,{2:舍去小数}
^1663470225840
![[Pasted image 20211020161324.png]]
![[Pasted image 20220918102042.png]]


## 工作原理
![[Pasted image 20220918102226.png]]
![[Pasted image 20211020161402.png]]
- 在OSPF协议中，相邻路由器通过==Hello问候==分组建立和维护==邻居关系==
^1663470225843
- OSPF采用==IP数据报==(TCP/UDP/IP)发送
^1663470225850
- OSPF的[协议号](obsidian://advanced-uri?vault=IncreaseReading&filepath=%25E8%2580%2583%25E7%25A0%2594%252F408%252F%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%25E7%25BD%2591%25E7%25BB%259C%252F%25E7%25AC%25AC4%25E7%25AB%25A0%252FIPv4%25E6%2595%25B0%25E6%258D%25AE%25E6%258A%25A5%25E9%25A6%2596%25E9%2583%25A8%25E6%25A0%25BC%25E5%25BC%258F.md&heading=IPv4%25E6%2595%25B0%25E6%258D%25AE%25E6%258A%25A5%25E7%259A%2584%25E5%258D%258F%25E8%25AE%25AE)是==89==
^1663470225854
- OSPF的目的IP地址是==组播==地址{2:224.0.0.5}
^1663470225858
- OSPF的Hello分组的发送周期为==10==s
^1663470225863
- OSPF若==40==s未收到邻居Hello分组则认为邻居路由器{2:不可达}
^1663470225867
- OSPF的每个路由器都会建立一张==邻居==表
^1663470225871
- OSPF分组的OSPF首部是在IP数据报的首部? :: 错误,在数据载荷的部分 ^1663470225874

![[Pasted image 20220918102704.png]]
- 使用OSPF的每个路由器都会产生==链路状态通告LSA==
^1663470225877
- LSA被封装在==链路状态更新==分组中
^1663470225881


LSA中包含哪个链路状态信息?  #card 
- 直连网络的链路状态信息
- 邻居路由器的链路状态信息
^1663470225884

![[Pasted image 20220918103005.png]]

- ==洪泛==法的要点是路由器向自己所有的**邻居路由器**发送==链路状态更新(LSU)==分组
^1663470225888
- 洪范法中若收到重复的更新分组需要再次转发吗? :: 不需要 ^1663470225891

![[Pasted image 20220918103317.png]]
- 使用OSPF的每一个路由器都有一个{1:链路状态数据库LSDB},用于{2:存储链路状态通告LSA}
^1663470225895
- OSPF中,各个路由器通过==洪泛==发送封装有各自{2:链路状态通告LSA}的{3:链路状态更新LSU}分组,使各个路由器的{3:链路状态数据库LSDB}最终保持一致
^1663470225898

![[Pasted image 20220918103727.png]]
#card-spaced
^1663470225902

![[Pasted image 20211020161532.png]] #card-spaced 
^1634719219712

OSPF中当路由器的链路状态数据库最终达到一致,称为==同步==
^1663470225906
OSPF中每30分钟或链路状态发送变化时,路由器都会洪泛发送{1:链路状态更新}分组
^1663470225909

## OSPF5种分组类型

![[Pasted image 20211020161518.png]]
在OSPF协议中，==问候Hello==分组用来发现和维护邻居路由器的可达性
^1663470225912
在OSPF协议中，{2:数据库描述Datebase Description}分组向邻居路由器发送自己的链路状态项目的==摘要==信息
^1663470225916
在OSPF协议中，{2:链路状态请求(Link State Request)}分组向邻居路由器请求发送某链路的状态项目==详细==信息
^1663470225920
在OSPF协议中，{1:链路状态更新Link State Update}分组用洪泛法对整个系统更新链路状态
^1663470225923
在OSPF协议中， ==链路状态更新Link State Acknowledgment==分组对链路状态更新分组的{2:确认}分组
^1663470225927

## 多点接入网络的OSPF路由器

![[Pasted image 20211020161554.png]] #card-spaced 
^1634719219716

任意两个路由器都互为邻居关系,则邻居关系的数量为==n(n-1)/2==,每个路由器需要向其他==(n-1)==个路由器发送Hello分组和链路状态更新分组
^1663470225931

为了减少所发送==分组==的数量,OSPF采用选举指定路由器DR和备用的指定路由器BDR,所有普通的路由器只与==DR或BDR==建立关系
^1663470225936

OSPF采用选举指定路由器DR和备用的指定路由器BDR,因此邻居关系数量降低为==2(n-2)+1==
^1663470225939
![[Pasted image 20220918105721.png]]

## 划分区域

![[Pasted image 20211020161627.png]]

OSPF中，什么是区域？ #card
将自治系统AS划分为若干个小范围叫做区域area
![[Pasted image 20211020161627.png]]
^1634719219719

- 主干区域的标识符必须为==0==,其他区域的标识符不能为==0==且{2:互不相同}
^1663470225942
- 主干区域用于==连通其他区域==,每个区域的规模不应太大,一般所包含的路由器不能超过==200==个
^1663470225946


![[Pasted image 20211020161641.png]]


## 题目
![[Pasted image 20220917231350.png]]


OSPF具有快速收敛的特点? ::正确 ^1663765310578
OSPF仅相邻路由器需要交换各自的路由表? :: 错误,虽然只与相邻的路由器交换信息,但是洪泛会跟所有路由器交换数据 ^1663765310583
