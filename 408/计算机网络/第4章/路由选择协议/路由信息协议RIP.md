---
tags: 计算机网络  [obsidian]
cards-deck: 考研::计算机网络
---


# 路由信息协议RIP的基本工作原理
路由信息协议RIP
![[Pasted image 20211019112225.png]]



==路由信息==协议==RIP==是内部网关协议IGP中最先广泛使用的协议之一
^1663426140779


RIP采用什么来衡量到达目的网络的距离？ #ca^1663426140787
rd 
跳数Hop Count

RIP中，路由器到直连网络的距离定义为多少 ？:: 1 ^1634614529657
RIP中，路由器到非直连网络的距离定义为多少？ :: 所经过的路由器数+1 ^1634614529661
RIP中，允许一条路径最多包含多少个路由器？:: 15 ^1634614529665
RIP中，但距离等于多少时表示不可达？ :: 16 ^1634614529670
RIP中，什么时候可以进行等价负载均衡？ :: 但到达同一目的网络有多条距离相等的路由时。 ^1634614529675
RIP中，和谁交换信息？ :: 与相邻路由器交换信息 ^1634614529682
RIP中，交换的信息是？:: 自己的路由表 ^1634614529685
RIP中，每隔多少秒发生路由更新报文? :: 周期性交换，约30s ^1634614529689

RIP的基本工作过程： #card 
1. 路由器刚开始工作时，只知道自己到直连网络的距离=1
2. 每次路由器仅仅与相邻路由器周期性交换信息并更新路由表
3. 若干次交换和更新后，每个路由器都知道连到达本AS内各网络的最短距离和下一跳地址
^1634614529692

路由器执行RIP协议,刚开始工作时，只知道自己到直连网络的距离= ==1==
^1663426140790

路由器执行RIP协议,每次路由器仅仅与==相邻==路由器周期性交换信息并更新路由表
^1663426140793


什么是收敛？ #card
若干次交换和更新后，每个路由器都知道连到达本AS内各网络的最短距离和下一跳地址
^1634614529695

RIP的路由条目更新规则： #card 
1. 发现新网络，添加
2. 到达目的网络
	- 不同下一跳
		- 优势更新
		- 等价负载均衡
	- 相同下一跳
		- 更新
^1634614529698

RIP路由信息协议更新报文:通过{2:相同}下一跳到达目的网络,无论RIP距离变大还是变小,都要进行==更新==
^1663426140796

RIP路由信息协议更新报文:发现了新的网络,==添加==到达该网络的路由条目
^1663426140802

通过不同下一跳到达目的网络,新路由的RIP距离更小,新路由有优势,则==更新原有旧的路由条目==
^1663426140807


RIP路由信息协议更新报文:通过不同的下一跳的RIP距离相同,则==添加新的路由条目到路由表中,进行等价负载均衡==
^1663426140810

RIP路由信息协议更新报文:通过不同下一跳到达目的网络,新路由的RIP距离增大,,新路由处于劣势,则==不更新路由条目==
^1663426140815



RIP路由信息协议中,若180s没有收到某条路由条目的更新可达==,再过120s还是没收到该路由条目的更新报文,则将==该条目从路由表删除
^1663426140819




![[Pasted image 20211019113524.png]] 

为了加快RIP,路由器要及时向相邻的路由器通告拓扑变化后的路由信息,这称为==触发更新==
^1663426140821



思科路由器中RIP路由信息协议将路由器道直连网络的距离定义为==0==,但{2:不影响}(影响/不影响)RIP的正常运行
^1663426140827

RIP认为好的路由就是“距离短”的路由,也就是所通过的路由器==数量最少==的路由
^1663426140830

当到达同一目的网络有多条“RIP距离相等”的路由时,可以进行等价==负载均衡==,也就是将通信量均衡地分布到多条等价的路径上.
^1663426140834



RIP会不会产生路由环路？ :: 会 ^1634614655787

![[Pasted image 20211019113655.png]]
![[Pasted image 20211019113643.png]]
![[Pasted image 20211019113711.png]]


## RIP版本和报文
RIP属于TCP/IP体系结构的==应用==层,但RIP的核心功能是{2:路由选择},这属于TCP/IP体系结构的{2:网际}层
^1663426140840

![[Pasted image 20220917225421.png]]
RIP属于==应用==层协议
^1663426464623


RIP采用==UDP==(TCP/UDP)端口号为{2:520}
^1663426387321
